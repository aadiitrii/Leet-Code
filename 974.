int subarraysDivByK(int* nums, int numsSize, int k) {
    int* remainderCount = (int*)calloc(k, sizeof(int));
    remainderCount[0] = 1;  
    int sum = 0, count = 0;

    for (int i = 0; i < numsSize; i++) {
        sum += nums[i];
        int remainder = ((sum % k) + k) % k; 
        count += remainderCount[remainder];
        remainderCount[remainder]++;
    }

    free(remainderCount);
    return count;
}
